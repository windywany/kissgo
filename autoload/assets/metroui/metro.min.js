(function(e,t){var i=0,s=Array.prototype.slice,n=e.cleanData;e.cleanData=function(t){for(var i,s=0;null!=(i=t[s]);s++)try{e(i).triggerHandler("remove")}catch(a){}n(t)},e.widget=function(i,s,n){var a,r,o,h,l={},u=i.split(".")[0];i=i.split(".")[1],a=u+"-"+i,n||(n=s,s=e.Widget),e.expr[":"][a.toLowerCase()]=function(t){return!!e.data(t,a)},e[u]=e[u]||{},r=e[u][i],o=e[u][i]=function(e,i){return this._createWidget?(arguments.length&&this._createWidget(e,i),t):new o(e,i)},e.extend(o,r,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),h=new s,h.options=e.widget.extend({},h.options),e.each(n,function(i,n){return e.isFunction(n)?(l[i]=function(){var e=function(){return s.prototype[i].apply(this,arguments)},t=function(e){return s.prototype[i].apply(this,e)};return function(){var i,s=this._super,a=this._superApply;return this._super=e,this._superApply=t,i=n.apply(this,arguments),this._super=s,this._superApply=a,i}}(),t):(l[i]=n,t)}),o.prototype=e.widget.extend(h,{widgetEventPrefix:r?h.widgetEventPrefix:i},l,{constructor:o,namespace:u,widgetName:i,widgetFullName:a}),r?(e.each(r._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete r._childConstructors):s._childConstructors.push(o),e.widget.bridge(i,o)},e.widget.extend=function(i){for(var n,a,r=s.call(arguments,1),o=0,h=r.length;h>o;o++)for(n in r[o])a=r[o][n],r[o].hasOwnProperty(n)&&a!==t&&(i[n]=e.isPlainObject(a)?e.isPlainObject(i[n])?e.widget.extend({},i[n],a):e.widget.extend({},a):a);return i},e.widget.bridge=function(i,n){var a=n.prototype.widgetFullName||i;e.fn[i]=function(r){var o="string"==typeof r,h=s.call(arguments,1),l=this;return r=!o&&h.length?e.widget.extend.apply(null,[r].concat(h)):r,o?this.each(function(){var s,n=e.data(this,a);return n?e.isFunction(n[r])&&"_"!==r.charAt(0)?(s=n[r].apply(n,h),s!==n&&s!==t?(l=s&&s.jquery?l.pushStack(s.get()):s,!1):t):e.error("no such method '"+r+"' for "+i+" widget instance"):e.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+r+"'")}):this.each(function(){var t=e.data(this,a);t?t.option(r||{})._init():e.data(this,a,new n(r,this))}),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,s){s=e(s||this.defaultElement||this)[0],this.element=e(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),s!==this&&(e.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===s&&this.destroy()}}),this.document=e(s.style?s.ownerDocument:s.document||s),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(i,s){var n,a,r,o=i;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof i)if(o={},n=i.split("."),i=n.shift(),n.length){for(a=o[i]=e.widget.extend({},this.options[i]),r=0;n.length-1>r;r++)a[n[r]]=a[n[r]]||{},a=a[n[r]];if(i=n.pop(),s===t)return a[i]===t?null:a[i];a[i]=s}else{if(s===t)return this.options[i]===t?null:this.options[i];o[i]=s}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,s,n){var a,r=this;"boolean"!=typeof i&&(n=s,s=i,i=!1),n?(s=a=e(s),this.bindings=this.bindings.add(s)):(n=s,s=this.element,a=this.widget()),e.each(n,function(n,o){function h(){return i||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?r[o]:o).apply(r,arguments):t}"string"!=typeof o&&(h.guid=o.guid=o.guid||h.guid||e.guid++);var l=n.match(/^(\w+)\s*(.*)$/),u=l[1]+r.eventNamespace,c=l[2];c?a.delegate(c,u,h):s.bind(u,h)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var n,a,r=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,a){"string"==typeof n&&(n={effect:n});var r,o=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),r=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),r&&e.effects&&e.effects.effect[o]?s[t](n):o!==t&&s[o]?s[o](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}})})(jQuery);
jQuery.easing["jswing"]=jQuery.easing["swing"];jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b+c;return-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b*b+c;return d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b*b*b+c;return-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){if((b/=e/2)<1)return d/2*b*b*b*b*b+c;return d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return b==0?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){if(b==0)return c;if(b==e)return c+d;if((b/=e/2)<1)return d/2*Math.pow(2,10*(b-1))+c;return d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){if((b/=e/2)<1)return-d/2*(Math.sqrt(1-b*b)-1)+c;return d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158;var g=0;var h=d;if(b==0)return c;if((b/=e)==1)return c+d;if(!g)g=e*.3;if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158;var g=0;var h=d;if(b==0)return c;if((b/=e)==1)return c+d;if(!g)g=e*.3;if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*2*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158;var g=0;var h=d;if(b==0)return c;if((b/=e/2)==2)return c+d;if(!g)g=e*.3*1.5;if(h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);if(b<1)return-.5*h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)+c;return h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*2*Math.PI/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){if(f==undefined)f=1.70158;return d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){if(f==undefined)f=1.70158;return d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){if(f==undefined)f=1.70158;if((b/=e/2)<1)return d/2*b*b*(((f*=1.525)+1)*b-f)+c;return d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){if((b/=e)<1/2.75){return d*7.5625*b*b+c}else if(b<2/2.75){return d*(7.5625*(b-=1.5/2.75)*b+.75)+c}else if(b<2.5/2.75){return d*(7.5625*(b-=2.25/2.75)*b+.9375)+c}else{return d*(7.5625*(b-=2.625/2.75)*b+.984375)+c}},easeInOutBounce:function(a,b,c,d,e){if(b<e/2)return jQuery.easing.easeInBounce(a,b*2,0,d,e)*.5+c;return jQuery.easing.easeOutBounce(a,b*2-e,0,d,e)*.5+d*.5+c}});
(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports==='object'){module.exports=factory;}else{factory(jQuery);}}(function($){var toFix=['wheel','mousewheel','DOMMouseScroll','MozMousePixelScroll'];var toBind='onwheel'in document||document.documentMode>=9?['wheel']:['mousewheel','DomMouseScroll','MozMousePixelScroll'];var lowestDelta,lowestDeltaXY;if($.event.fixHooks){for(var i=toFix.length;i;){$.event.fixHooks[toFix[--i]]=$.event.mouseHooks;}}
$.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var i=toBind.length;i;){this.addEventListener(toBind[--i],handler,false);}}else{this.onmousewheel=handler;}},teardown:function(){if(this.removeEventListener){for(var i=toBind.length;i;){this.removeEventListener(toBind[--i],handler,false);}}else{this.onmousewheel=null;}}};$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel");},unmousewheel:function(fn){return this.unbind("mousewheel",fn);}});function handler(event){var orgEvent=event||window.event,args=[].slice.call(arguments,1),delta=0,deltaX=0,deltaY=0,absDelta=0,absDeltaXY=0,fn;event=$.event.fix(orgEvent);event.type="mousewheel";if(orgEvent.wheelDelta){delta=orgEvent.wheelDelta;}
if(orgEvent.detail){delta=orgEvent.detail*-1;}
if(orgEvent.deltaY){deltaY=orgEvent.deltaY*-1;delta=deltaY;}
if(orgEvent.deltaX){deltaX=orgEvent.deltaX;delta=deltaX*-1;}
if(orgEvent.wheelDeltaY!==undefined){deltaY=orgEvent.wheelDeltaY;}
if(orgEvent.wheelDeltaX!==undefined){deltaX=orgEvent.wheelDeltaX*-1;}
absDelta=Math.abs(delta);if(!lowestDelta||absDelta<lowestDelta){lowestDelta=absDelta;}
absDeltaXY=Math.max(Math.abs(deltaY),Math.abs(deltaX));if(!lowestDeltaXY||absDeltaXY<lowestDeltaXY){lowestDeltaXY=absDeltaXY;}
fn=delta>0?'floor':'ceil';delta=Math[fn](delta/lowestDelta);deltaX=Math[fn](deltaX/lowestDeltaXY);deltaY=Math[fn](deltaY/lowestDeltaXY);args.unshift(event,delta,deltaX,deltaY);return($.event.dispatch||$.event.handle).apply(this,args);}}));

(function($){$.widget("metro.accordion",{version:"1.0.0",options:{closeAny:true,open:function(frame){},action:function(frame){}},_frames:{},_create:function(){var element=this.element;if(element.data('closeany')!=undefined)this.options.closeAny=element.data('closeany');this._frames=element.children(".accordion-frame");this.init();},init:function(){var that=this;this._frames.each(function(){var frame=this,a=$(this).children(".heading"),content=$(this).children(".content");if($(a).hasClass("active")&&!$(a).attr('disabled')&&$(a).data('action')!='none'){$(content).show();$(a).removeClass("collapsed");}else{$(a).addClass("collapsed");}
a.on('click',function(e){e.preventDefault();if($(this).attr('disabled')||$(this).data('action')=='none')return;if(that.options.closeAny)that._closeFrames();if($(content).is(":hidden")){$(content).slideDown();$(this).removeClass("collapsed");that._trigger("frame",event,{frame:frame});that.options.open(frame);}else{$(content).slideUp();$(this).addClass("collapsed");}
that.options.action(frame);});});},_closeFrames:function(){this._frames.children(".content").slideUp().parent().children('.heading').addClass("collapsed");},_destroy:function(){},_setOption:function(key,value){this._super('_setOption',key,value);}})})(jQuery);$(function(){$('[data-role=accordion]').accordion();});(function($){$.widget("metro.buttonset",{version:"1.0.0",options:{click:function(btn,on){}},_buttons:{},_create:function(){var element=this.element;this._buttons=element.find("button, .button");this.init();},init:function(){var that=this;this._buttons.each(function(){var btn=$(this);btn.on('click',function(e){e.preventDefault();btn.toggleClass("active");that.options.click(btn,btn.hasClass("active"));that._trigger("click",event,{button:btn,on:(btn.hasClass("active"))});});});},_destroy:function(){},_setOption:function(key,value){this._super('_setOption',key,value);}})})(jQuery);(function($){$.widget("metro.buttongroup",{version:"1.0.0",options:{click:function(btn,on){}},_buttons:{},_create:function(){var element=this.element;this._buttons=element.find("button, .button");this.init();},init:function(){var that=this;this._buttons.each(function(){var btn=$(this);btn.on('click',function(e){e.preventDefault();that._buttons.removeClass("active");btn.addClass("active");that.options.click(btn,btn.hasClass("active"));that._trigger("click",event,{button:btn,on:(btn.hasClass("active"))});});});},_destroy:function(){},_setOption:function(key,value){this._super('_setOption',key,value);}})})(jQuery);$(function(){$('[data-role=button-set]').buttonset();$('[data-role=button-group]').buttongroup();});(function($){$.widget("metro.calendar",{version:"1.0.0",options:{format:"yyyy-mm-dd",multiSelect:false,startMode:'day',months:['January',' February','March','April','May','June','July','August','September','October','November','December'],monthsShort:['Jan',' Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],weekDays:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],buttonsNames:['Today','Clear'],date:new Date(),buttons:true,getDates:function(d){},click:function(d,d0){},_storage:[]},_year:0,_month:0,_day:0,_today:new Date(),_mode:'day',_distance:0,_events:[],_create:function(){var element=this.element;if(element.data('multiSelect')!=undefined)this.options.multiSelect=element.data("multiSelect");if(element.data('format')!=undefined)this.options.format=element.data("format");if(element.data('date')!=undefined)this.options.date=new Date(element.data("date"));if(element.data('months')!=undefined)this.options.months=element.data('months');if(element.data('weekDays')!=undefined)this.options.weekDays=element.data('weekDays');if(element.data('startMode')!=undefined)this.options.startMode=element.data('startMode');this._year=this.options.date.getFullYear();this._distance=parseInt(this.options.date.getFullYear())-4;this._month=this.options.date.getMonth();this._day=this.options.date.getDate();this._mode=this.options.startMode;element.data("_storage",[]);this._renderCalendar();},_renderMonth:function(){var year=this._year,month=this._month,day=this._day,feb=28;if(month==1){if((year%100!=0)&&(year%4==0)||(year%400==0)){feb=29;}}
var totalDays=["31",""+feb+"","31","30","31","30","31","31","30","31","30","31"];var daysInMonth=totalDays[month];var first_week_day=new Date(year,month,1).getDay();var table,tr,td,i;this.element.html("");table=$("<table/>").addClass("bordered");tr=$("<tr/>");$("<td/>").addClass("text-center").html("<a class='btn-previous-year' href='#'><i class='icon-previous'></i></a>").appendTo(tr);$("<td/>").addClass("text-center").html("<a class='btn-previous-month' href='#'><i class='icon-arrow-left-4'></i></a>").appendTo(tr);$("<td/>").attr("colspan",3).addClass("text-center").html("<a class='btn-select-month' href='#'>"+this.options.months[month]+' '+year+"</a>").appendTo(tr);$("<td/>").addClass("text-center").html("<a class='btn-next-month' href='#'><i class='icon-arrow-right-4'></i></a>").appendTo(tr);$("<td/>").addClass("text-center").html("<a class='btn-next-year' href='#'><i class='icon-next'></i></a>").appendTo(tr);tr.addClass("calendar-header").appendTo(table);tr=$("<tr/>");for(i=0;i<7;i++){td=$("<td/>").addClass("text-center day-of-week").html(this.options.weekDays[i]).appendTo(tr);}
tr.addClass("calendar-subheader").appendTo(table);tr=$("<tr/>");for(i=0;i<first_week_day;i++){td=$("<td/>").addClass("empty").html("").appendTo(tr);}
var week_day=first_week_day;for(i=1;i<=daysInMonth;i++){week_day%=7;if(week_day==0){tr.appendTo(table);tr=$("<tr/>");}
td=$("<td/>").addClass("text-center day").html("<a href='#'>"+i+"</a>");if(year==this._today.getFullYear()&&month==this._today.getMonth()&&this._today.getDate()==i){td.addClass("today");}
var d=(new Date(this._year,this._month,i)).format('yyyy-mm-dd');if(this.element.data('_storage').indexOf(d)>=0){td.find("a").addClass("selected");}
td.appendTo(tr);week_day++;}
for(i=week_day+1;i<=7;i++){td=$("<td/>").addClass("empty").html("").appendTo(tr);}
tr.appendTo(table);if(this.options.buttons){tr=$("<tr/>").addClass("calendar-actions");td=$("<td/>").attr('colspan',7).addClass("text-left").html(""+"<button class='button calendar-btn-today small success'>"+this.options.buttonsNames[0]+"</button>&nbsp;<button class='button calendar-btn-clear small warning'>"+this.options.buttonsNames[1]+"</button>");td.appendTo(tr);tr.appendTo(table);}
table.appendTo(this.element);this.options.getDates(this.element.data('_storage'));},_renderMonths:function(){var table,tr,td,i,j;this.element.html("");table=$("<table/>").addClass("bordered");tr=$("<tr/>");$("<td/>").addClass("text-center").html("<a class='btn-previous-year' href='#'><i class='icon-arrow-left-4'></i></a>").appendTo(tr);$("<td/>").attr("colspan",2).addClass("text-center").html("<a class='btn-select-year' href='#'>"+this._year+"</a>").appendTo(tr);$("<td/>").addClass("text-center").html("<a class='btn-next-year' href='#'><i class='icon-arrow-right-4'></i></a>").appendTo(tr);tr.addClass("calendar-header").appendTo(table);tr=$("<tr/>");j=0;for(i=0;i<12;i++){td=$("<td/>").addClass("text-center month").html("<a href='#' data-month='"+i+"'>"+this.options.monthsShort[i]+"</a>");if(this._month==i&&(new Date()).getFullYear()==this._year){td.addClass("today");}
td.appendTo(tr);if((j+1)%4==0){tr.appendTo(table);tr=$("<tr/>");}
j+=1;}
table.appendTo(this.element);},_renderYears:function(){var table,tr,td,i,j;this.element.html("");table=$("<table/>").addClass("bordered");tr=$("<tr/>");$("<td/>").addClass("text-center").html("<a class='btn-previous-year' href='#'><i class='icon-arrow-left-4'></i></a>").appendTo(tr);$("<td/>").attr("colspan",2).addClass("text-center").html((this._distance)+"-"+(this._distance+11)).appendTo(tr);$("<td/>").addClass("text-center").html("<a class='btn-next-year' href='#'><i class='icon-arrow-right-4'></i></a>").appendTo(tr);tr.addClass("calendar-header").appendTo(table);tr=$("<tr/>");j=0;for(i=this._distance;i<this._distance+12;i++){td=$("<td/>").addClass("text-center year").html("<a href='#' data-year='"+i+"'>"+i+"</a>");if((new Date()).getFullYear()==i){td.addClass("today");}
td.appendTo(tr);if((j+1)%4==0){tr.appendTo(table);tr=$("<tr/>");}
j+=1;}
table.appendTo(this.element);},_renderCalendar:function(){switch(this._mode){case'year':this._renderYears();break;case'month':this._renderMonths();break;default:this._renderMonth();}
this._initButtons();},_initButtons:function(){var that=this,table=this.element.find('table');if(this._mode=='day'){table.find('.btn-select-month').on('click',function(e){e.preventDefault();e.stopPropagation();that._mode='month';that._renderCalendar();});table.find('.btn-previous-month').on('click',function(e){e.preventDefault();e.stopPropagation();that._month-=1;if(that._month<0){that._year-=1;that._month=11;}
that._renderCalendar();});table.find('.btn-next-month').on('click',function(e){e.preventDefault();e.stopPropagation();that._month+=1;if(that._month==12){that._year+=1;that._month=0;}
that._renderCalendar();});table.find('.btn-previous-year').on('click',function(e){e.preventDefault();e.stopPropagation();that._year-=1;that._renderCalendar();});table.find('.btn-next-year').on('click',function(e){e.preventDefault();e.stopPropagation();that._year+=1;that._renderCalendar();});table.find('.calendar-btn-today').on('click',function(e){e.preventDefault();e.stopPropagation();that.options.date=new Date();that._year=that.options.date.getFullYear();that._month=that.options.date.getMonth();that._day=that.options.date.getDate();that._renderCalendar();});table.find('.calendar-btn-clear').on('click',function(e){e.preventDefault();e.stopPropagation();that.options.date=new Date();that._year=that.options.date.getFullYear();that._month=that.options.date.getMonth();that._day=that.options.date.getDate();that.element.data('_storage',[]);that._renderCalendar();});table.find('.day a').on('click',function(e){e.preventDefault();e.stopPropagation();var d=(new Date(that._year,that._month,parseInt($(this).html()))).format(that.options.format);var d0=(new Date(that._year,that._month,parseInt($(this).html())));if(that.options.multiSelect){$(this).toggleClass("selected");if($(this).hasClass("selected")){that._addDate(d);}else{that._removeDate(d);}}else{table.find('.day a').removeClass('selected');$(this).addClass("selected");that.element.data('_storage',[]);that._addDate(d);}
that.options.getDates(that.element.data('_storage'));that.options.click(d,d0);});}else if(this._mode=='month'){table.find('.month a').on('click',function(e){e.preventDefault();e.stopPropagation();that._month=parseInt($(this).data('month'));that._mode='day';that._renderCalendar();});table.find('.btn-previous-year').on('click',function(e){e.preventDefault();e.stopPropagation();that._year-=1;that._renderCalendar();});table.find('.btn-next-year').on('click',function(e){e.preventDefault();e.stopPropagation();that._year+=1;that._renderCalendar();});table.find('.btn-select-year').on('click',function(e){e.preventDefault();e.stopPropagation();that._mode='year';that._renderCalendar();});}else{table.find('.year a').on('click',function(e){e.preventDefault();e.stopPropagation();that._year=parseInt($(this).data('year'));that._mode='month';that._renderCalendar();});table.find('.btn-previous-year').on('click',function(e){e.preventDefault();e.stopPropagation();that._distance-=10;that._renderCalendar();});table.find('.btn-next-year').on('click',function(e){e.preventDefault();e.stopPropagation();that._distance+=10;that._renderCalendar();});}},_addDate:function(d){var index=this.element.data('_storage').indexOf(d);if(index<0)this.element.data('_storage').push(d);},_removeDate:function(d){var index=this.element.data('_storage').indexOf(d);this.element.data('_storage').splice(index,1);},setDate:function(d){var r;d=new Date(d);r=(new Date(d.getFullYear()+"/"+(d.getMonth()+1)+"/"+d.getDate())).format('yyyy-mm-dd');this._addDate(r);this._renderCalendar();},getDate:function(index){return new Date(index!=undefined?this.element.data('_storage')[index]:this.element.data('_storage')[0]).format(this.options.format);},getDates:function(){return this.element.data('_storage');},unsetDate:function(d){var r;d=new Date(d);r=(new Date(d.getFullYear()+"-"+(d.getMonth()+1)+"-"+d.getDate())).format('yyyy-mm-dd');this._removeDate(r);this._renderCalendar();},_destroy:function(){},_setOption:function(key,value){this._super('_setOption',key,value);}})})(jQuery);$(function(){$('[data-role=calendar]').calendar();});(function($){$.widget("metro.carousel",{version:"1.0.0",options:{auto:true,period:2000,duration:500,effect:'slowdown',direction:'left',markers:{show:true,type:'default',position:'left'},controls:true,stop:true,width:'100%',height:300},_slides:{},_currentIndex:0,_interval:0,_outPosition:0,_create:function(){var that=this,carousel=this.element,controls=carousel.find('.controls');carousel.css({'width':this.options.width,'height':this.options.height});this._slides=carousel.find('.slide');if(this._slides.length<=1)return;if(this.options.markers!==false&&this.options.markers.show&&this._slides.length>1){this._markers(that);}
if(this.options.controls&&this._slides.length>1){carousel.find('.controls.left').on('click',function(){that._slideTo('prior');});carousel.find('.controls.right').on('click',function(){that._slideTo('next');});}else{controls.hide();}
if(this.options.stop){carousel.on('mouseenter',function(){clearInterval(that._interval);}).on('mouseleave',function(){if(that.options.auto)that._autoStart(),that.options.period;})}
if(this.options.auto){this._autoStart();}},_autoStart:function(){var that=this;this._interval=setInterval(function(){if(that.options.direction=='left'){that._slideTo('next')}else{that._slideTo('prior')}},this.options.period);},_slideTo:function(direction){var
currentSlide=this._slides[this._currentIndex],nextSlide;if(direction==undefined)direction='next';if(direction==='prior'){this._currentIndex-=1;if(this._currentIndex<0)this._currentIndex=this._slides.length-1;this._outPosition=this.element.width();}else if(direction==='next'){this._currentIndex+=1;if(this._currentIndex>=this._slides.length)this._currentIndex=0;this._outPosition=-this.element.width();}
nextSlide=this._slides[this._currentIndex];switch(this.options.effect){case'switch':this._effectSwitch(currentSlide,nextSlide);break;case'slowdown':this._effectSlowdown(currentSlide,nextSlide,this.options.duration);break;case'fade':this._effectFade(currentSlide,nextSlide,this.options.duration);break;default:this._effectSlide(currentSlide,nextSlide,this.options.duration);}
var carousel=this.element,that=this;carousel.find('.markers ul li a').each(function(){var index=$(this).data('num');if(index===that._currentIndex){$(this).parent().addClass('active');}else{$(this).parent().removeClass('active');}});},_slideToSlide:function(slideIndex){var
currentSlide=this._slides[this._currentIndex],nextSlide=this._slides[slideIndex];if(slideIndex>this._currentIndex){this._outPosition=-this.element.width();}else{this._outPosition=this.element.width();}
switch(this.options.effect){case'switch':this._effectSwitch(currentSlide,nextSlide);break;case'slowdown':this._effectSlowdown(currentSlide,nextSlide,this.options.duration);break;case'fade':this._effectFade(currentSlide,nextSlide,this.options.duration);break;default:this._effectSlide(currentSlide,nextSlide,this.options.duration);}
this._currentIndex=slideIndex;},_markers:function(that){var div,ul,li,i,markers;div=$('<div class="markers '+this.options.markers.type+'" />');ul=$('<ul></ul>').appendTo(div);for(i=0;i<this._slides.length;i++){li=$('<li><a href="javascript:void(0)" data-num="'+i+'"></a></li>');if(i===0){li.addClass('active');}
li.appendTo(ul);}
ul.find('li a').removeClass('active').on('click',function(){var $this=$(this),index=$this.data('num');ul.find('li').removeClass('active');$this.parent().addClass('active');if(index==that._currentIndex){return true;}
that._slideToSlide(index);return true;});div.appendTo(this.element);switch(this.options.markers.position){case'top-left':{div.css({left:'10px',right:'auto',bottom:'auto',top:'10px'});break;}
case'top-right':{div.css({left:'auto',right:'10px',bottom:'auto',top:'0px'});break;}
case'top-center':{div.css({left:this.element.width()/2-div.width()/2,right:'auto',bottom:'auto',top:'0px'});break;}
case'bottom-left':{div.css({left:'10px',right:'auto'});break;}
case'bottom-right':{div.css({right:'10px',left:'auto'});break;}
case'bottom-center':{div.css({left:this.element.width()/2-div.width()/2,right:'auto'});break;}}},_effectSwitch:function(currentSlide,nextSlide){$(currentSlide).hide();$(nextSlide).css({left:0}).show();},_effectSlide:function(currentSlide,nextSlide,duration){$(currentSlide).animate({left:this._outPosition},duration);$(nextSlide).css('left',this._outPosition*-1).show().animate({left:0},duration);},_effectSlowdown:function(currentSlide,nextSlide,duration){var options={'duration':duration,'easing':'doubleSqrt'};$.easing.doubleSqrt=function(t){return Math.sqrt(Math.sqrt(t));};$(currentSlide).animate({left:this._outPosition},options);$(nextSlide).css('left',this._outPosition*-1).show().animate({left:0},options);},_effectFade:function(currentSlide,nextSlide,duration){$(currentSlide).fadeOut(duration);$(nextSlide).css({left:0}).fadeIn(duration);},_destroy:function(){},_setOption:function(key,value){this._super('_setOption',key,value);}});})(jQuery);$(function(){$('[data-role=carousel]').carousel();});(function($){$.widget("metro.countdown",{version:"1.0.0",options:{style:{background:"bg-dark",foreground:"fg-white",divider:"fg-dark"},blink:true,days:1,stoptimer:0,ontick:function(d,h,m,s){},onstop:function(){}},wrappers:{},_interval:0,_create:function(){var that=this,countdown=this.element;$.each(['Days','Hours','Minutes','Seconds'],function(){$('<span class="count'+this+'">').html('<span class="digit-wrapper">\
                        <span class="digit">0</span>\
                    </span>\
                    <span class="digit-wrapper">\
                        <span class="digit">0</span>\
                    </span>').appendTo(countdown);if(this!="Seconds"){countdown.append('<span class="divider"></span>');}});this.wrappers=this.element.find('.digit-wrapper');if(countdown.data('blink')!=undefined){this.options.blink=countdown.data('blick');}
if(countdown.data('styleBackground')!=undefined){this.options.style.background=countdown.data('styleBackground');}
if(countdown.data('styleForeground')!=undefined){this.options.style.foreground=countdown.data('styleForeground');}
if(countdown.data('styleDivider')!=undefined){this.options.style.divider=countdown.data('styleDivider');}
if(this.options.style.background!="default"){this.element.find(".digit").addClass(this.options.style.background);}
if(this.options.style.foreground!="default"){this.element.find(".digit").addClass(this.options.style.foreground);}
if(this.options.style.divider!="default"){this.element.find(".divider").addClass(this.options.style.divider);}
if(countdown.data('stoptimer')!=undefined){this.options.stoptimer=new Date(countdown.data('stoptimer'));}
if(this.options.stoptimer==0){this.options.stoptimer=(new Date()).getTime()+this.options.days*24*60*60*1000;}
setTimeout(function(){that.tick()},1000);},_destroy:function(){},_setOption:function(key,value){this._super('_setOption',key,value);},tick:function(){var that=this;this._interval=setInterval(function(){var days=24*60*60,hours=60*60,minutes=60;var left,d,h,m,s;left=Math.floor((that.options.stoptimer-(new Date()))/1000);if(left<0){left=0;}
d=Math.floor(left/days);that.updateDuo(0,1,d);left-=d*days;h=Math.floor(left/hours);that.updateDuo(2,3,h);left-=h*hours;m=Math.floor(left/minutes);that.updateDuo(4,5,m);left-=m*minutes;s=left;that.updateDuo(6,7,s);that.options.ontick(d,h,m,s);that.blinkDivider();if(d===0&&h===0&&m===0&&s===0){that.options.onstop();that.stopDigit();that._trigger('alarm');clearInterval(that._interval);}},1000);},blinkDivider:function(){if(this.options.blink)
this.element.find(".divider").toggleClass("no-visible");},stopDigit:function(){this.wrappers.each(function(){$(this).children(".digit").addClass("stop");})},updateDuo:function(minor,major,value){this.switchDigit(this.wrappers.eq(minor),Math.floor(value/10)%10);this.switchDigit(this.wrappers.eq(major),value%10);},switchDigit:function(wrapper,number){var digit=wrapper.find('.digit');if(digit.is(':animated')){return false;}
if(wrapper.data('digit')==number){return false;}
wrapper.data('digit',number);var replacement=$('<span>',{'class':'digit',css:{top:'-2.1em',opacity:0},html:number});replacement.addClass(this.options.style.background);replacement.addClass(this.options.style.foreground);digit.before(replacement).removeClass('static').animate({top:'2.5em'},'fast',function(){digit.remove();});replacement.delay(100).animate({top:0,opacity:1},'fast');return true;}});})(jQuery);$(function(){$('[data-role=countdown]').countdown();});var dateFormat=function(){var token=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,timezone=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,timezoneClip=/[^-+\dA-Z]/g,pad=function(val,len){val=String(val);len=len||2;while(val.length<len)val="0"+val;return val;};return function(date,mask,utc){var dF=dateFormat;if(arguments.length==1&&Object.prototype.toString.call(date)=="[object String]"&&!/\d/.test(date)){mask=date;date=undefined;}
date=date?new Date(date):new Date;mask=String(dF.masks[mask]||mask||dF.masks["default"]);if(mask.slice(0,4)=="UTC:"){mask=mask.slice(4);utc=true;}
var _=utc?"getUTC":"get",d=date[_+"Date"](),D=date[_+"Day"](),m=date[_+"Month"](),y=date[_+"FullYear"](),H=date[_+"Hours"](),M=date[_+"Minutes"](),s=date[_+"Seconds"](),L=date[_+"Milliseconds"](),o=utc?0:date.getTimezoneOffset(),flags={d:d,dd:pad(d),ddd:dF.i18n.dayNames[D],dddd:dF.i18n.dayNames[D+7],m:m+1,mm:pad(m+1),mmm:dF.i18n.monthNames[m],mmmm:dF.i18n.monthNames[m+12],yy:String(y).slice(2),yyyy:y,h:H%12||12,hh:pad(H%12||12),H:H,HH:pad(H),M:M,MM:pad(M),s:s,ss:pad(s),l:pad(L,3),L:pad(L>99?Math.round(L/10):L),t:H<12?"a":"p",tt:H<12?"am":"pm",T:H<12?"A":"P",TT:H<12?"AM":"PM",Z:utc?"UTC":(String(date).match(timezone)||[""]).pop().replace(timezoneClip,""),o:(o>0?"-":"+")+pad(Math.floor(Math.abs(o)/60)*100+Math.abs(o)%60,4),S:["th","st","nd","rd"][d%10>3?0:(d%100-d%10!=10)*d%10]};return mask.replace(token,function($0){return $0 in flags?flags[$0]:$0.slice(1,$0.length-1);});};}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};Date.prototype.format=function(mask,utc){return dateFormat(this,mask,utc);};(function($){$.widget("metro.datepicker",{version:"1.0.0",options:{format:"dd.mm.yyyy",date:undefined,effect:'none',position:'bottom',selected:function(d,d0){},_calendar:undefined},_create:function(){var that=this,element=this.element,input=element.children("input"),button=element.children("button.btn-date");if(element.data('date')!=undefined)this.options.date=element.data('date');if(element.data('format')!=undefined)this.options.format=element.data('format');if(element.data('effect')!=undefined)this.options.effect=element.data('effect');if(element.data('position')!=undefined)this.options.position=element.data('position');this._createCalendar(element,this.options.date);input.attr('readonly',true);button.on('click',function(e){e.stopPropagation();if(that.options._calendar.css('display')=='none'){that._show();}else{that._hide();}});element.on('click',function(e){e.stopPropagation();if(that.options._calendar.css('display')=='none'){that._show();}else{that._hide();}});$('html').on('click',function(e){$(".calendar-dropdown").hide();})},_createCalendar:function(to,curDate){var _calendar,that=this;_calendar=$("<div/>").css({position:'absolute',display:'none','max-width':260,'z-index':1000}).addClass('calendar calendar-dropdown').appendTo(to);if(that.options.date!=undefined){_calendar.data('date',that.options.date);}
_calendar.calendar({multiSelect:false,format:that.options.format,buttons:false,click:function(d,d0){_calendar.calendar('setDate',d0);to.children("input[type=text]").val(d);that.options.selected(d,d0);that._hide();}});if(curDate!=undefined){_calendar.calendar('setDate',curDate);to.children("input[type=text]").val(_calendar.calendar('getDate'));}
switch(this.options.position){case'top':_calendar.css({top:(0-_calendar.height()),left:0});break;default:_calendar.css({top:'100%',left:0});}
this.options._calendar=_calendar;},_show:function(){if(this.options.effect=='slide'){$(".calendar-dropdown").slideUp('fast');this.options._calendar.slideDown('fast');}else if(this.options.effect=='fade'){$(".calendar-dropdown").fadeOut('fast');this.options._calendar.fadeIn('fast');}else{$(".calendar-dropdown").hide();this.options._calendar.show();}},_hide:function(){if(this.options.effect=='slide'){this.options._calendar.slideUp('fast');}else if(this.options.effect=='fade'){this.options._calendar.fadeOut('fast');}else{this.options._calendar.hide();}},_destroy:function(){},_setOption:function(key,value){this._super('_setOption',key,value);}})})(jQuery);$(function(){$('[data-role=datepicker]').datepicker();});(function($){var _dialog=false;$.Dialog=function(params){if(!$.Dialog.opened){$.Dialog.opened=true;}else{return _dialog;}
$.Dialog.settings=params;params=$.extend({icon:false,title:'',content:'',flat:false,shadow:false,overlay:false,width:'auto',height:'auto',position:'default',padding:false,overlayClickClose:true,sysButtons:{btnClose:true},onShow:function(_dialog){}},params);var _overlay,_window,_caption,_content;_overlay=$("<div/>").addClass("metro window-overlay");if(params.overlay){_overlay.css({backgroundColor:'rgba(0,0,0,.7)'});}
_window=$("<div/>").addClass("window");if(params.flat)_window.addClass("flat");if(params.shadow)_window.addClass("shadow").css('overflow','hidden');_caption=$("<div/>").addClass("caption");_content=$("<div/>").addClass("content");_content.css({paddingTop:32+params.padding,paddingLeft:params.padding,paddingRight:params.padding,paddingBottom:params.padding});if(params.sysButtons){if(params.sysButtons.btnClose){$("<button/>").addClass("btn-close").on('click',function(e){e.preventDefault();e.stopPropagation();$.Dialog.close();}).appendTo(_caption);}
if(params.sysButtons.btnMax){$("<button/>").addClass("btn-max").on('click',function(e){e.preventDefault();e.stopPropagation();}).appendTo(_caption);}
if(params.sysButtons.btnMin){$("<button/>").addClass("btn-min").on('click',function(e){e.preventDefault();e.stopPropagation();}).appendTo(_caption);}}
if(params.icon)$(params.icon).addClass("icon").appendTo(_caption);$("<div/>").addClass("title").html(params.title).appendTo(_caption);_content.html(params.content);_caption.appendTo(_window);_content.appendTo(_window);_window.appendTo(_overlay);if(params.width!='auto')_window.css('min-width',params.width);if(params.height!='auto')_window.css('min-height',params.width);_overlay.hide().appendTo('body').fadeIn('fast');_dialog=_window;_window.css("position","fixed").css("top",($(window).height()-_dialog.outerHeight())/2).css("left",($(window).width()-_window.outerWidth())/2);console.log($(window).height());addTouchEvents(_window[0]);if(params.draggable){_caption.on("mousedown",function(e){$.Dialog.drag=true;_caption.css('cursor','move');var z_idx=_window.css('z-index'),drg_h=_window.outerHeight(),drg_w=_window.outerWidth(),pos_y=_window.offset().top+drg_h-e.pageY,pos_x=_window.offset().left+drg_w-e.pageX;_window.css('z-index',99999).parents().on("mousemove",function(e){var t=(e.pageY>0)?(e.pageY+pos_y-drg_h):(0);var l=(e.pageX>0)?(e.pageX+pos_x-drg_w):(0);if($.Dialog.drag){if(t>=0&&t<=window.innerHeight-_window.outerHeight()){_window.offset({top:t});}
if(l>=0&&l<=window.innerWidth-_window.outerWidth()){_window.offset({left:l});}}
_window.on("mouseup",function(){$(this).removeClass('draggable').css('z-index',z_idx);$.Dialog.drag=false;_caption.css('cursor','default');});});e.preventDefault();}).on("mouseup",function(){_window.removeClass('draggable');$.Dialog.drag=false;_caption.css('cursor','default');});}
_window.on('click',function(e){e.preventDefault();e.stopPropagation();});if(params.overlayClickClose){_overlay.on('click',function(e){e.preventDefault();$.Dialog.close();});}
params.onShow(_dialog);$.Dialog.autoResize();return _dialog;}
$.Dialog.content=function(newContent){if(!$.Dialog.opened){return false;}
if(newContent){_dialog.children(".content").html(newContent);$.Dialog.autoResize();}else{return _dialog.children(".content").html();}}
$.Dialog.title=function(newTitle){if(!$.Dialog.opened){return false;}
if(newTitle){_dialog.children(".caption > .title").html(newTitle);}else{_dialog.children(".caption > .title").html();}}
$.Dialog.autoResize=function(){if(!$.Dialog.opened){return false;}
var _content=_dialog.children(".content");var top=($(window).height()-_dialog.outerHeight())/2;var left=($(window).width()-_dialog.outerWidth())/2;_dialog.css({width:_content.width(),height:_content.height()+36}).css("top",top).css("left",left);}
$.Dialog.close=function(){if(!$.Dialog.opened||_dialog==undefined){return false;}
$.Dialog.opened=false;var _overlay=_dialog.parent(".window-overlay");_overlay.fadeOut(function(){$(this).remove();});}})(jQuery);(function($){$.widget("metro.dragtile",{version:"1.0.0",options:{},_create:function(){var that=this,element=tile=this.element,area=element.parents('.tile-area'),tiles=area.find(".tile"),groups=area.find(".tile-group");tile.attr("draggable","true");addTouchEvents(tile[0]);tile[0].addEventListener('dragstart',this._dragStart,false);tile[0].addEventListener('dragend',this._dragEnd,false);tile.on('mousedown',function(e){});tile.on('mouseup',function(e){});},_dragStart:function(e){$(this).css('opacity',.4);},_dragEnd:function(e){$(this).css('opacity',1);},_destroy:function(){},_setOption:function(key,value){this._super('_setOption',key,value);}})})(jQuery);$(function(){$('.tile').dragtile();});(function($){$.widget("metro.dropdown",{version:"1.0.0",options:{effect:'slide'},_create:function(){var that=this,menu=this.element,name=this.name,parent=this.element.parent(),toggle=parent.children('.dropdown-toggle');if(menu.data('effect')!=undefined){this.options.effect=menu.data('effect');}
toggle.on('click.'+name,function(e){e.preventDefault();e.stopPropagation();if(menu.css('display')=='block'&&!menu.hasClass('keep-open')){that._close(menu);}else{$('.dropdown-menu').each(function(i,el){if(!menu.parents('.dropdown-menu').is(el)&&!$(el).hasClass('keep-open')&&$(el).css('display')=='block'){that._close(el);}});that._open(menu);}});$(menu).find('li.disabled a').on('click',function(e){e.preventDefault();});$('html').on('click',function(e){$('.dropdown-menu').each(function(i,el){if(!$(el).hasClass('keep-open')&&$(el).css('display')=='block'){that._close(el);}});});},_open:function(el){switch(this.options.effect){case'fade':$(el).fadeIn('fast');break;case'slide':$(el).slideDown('fast');break;default:$(el).hide();}
this._trigger("onOpen",null,el);},_close:function(el){switch(this.options.effect){case'fade':$(el).fadeOut('fast');break;case'slide':$(el).slideUp('fast');break;default:$(el).hide();}
this._trigger("onClose",null,el);},_destroy:function(){},_setOption:function(key,value){this._super('_setOption',key,value);}});})(jQuery);$(function(){$('[data-role=dropdown]').dropdown();});(function($){$.widget("metro.fluentmenu",{version:"1.0.0",options:{onSpecialClick:function(e,el){},onTabClick:function(e,el){}},_create:function(){var that=this,element=this.element,o=this.options,tabs=element.find('.tabs-holder > li > a');this._hidePanels();this._showPanel();tabs.on('click',function(e){if($(this).parent('li').hasClass('special')){o.onSpecialClick(e,$(this));}else{var panel=$($(this).attr('href'));that._hidePanels();that._showPanel(panel);element.find('.tabs-holder > li').removeClass('active');$(this).parent('li').addClass('active');o.onTabClick(e,$(this));}
e.preventDefault();});},_hidePanels:function(){this.element.find('.tab-panel').hide();},_showPanel:function(panel){if(panel==undefined){panel=this.element.find('.tabs-holder li.active a').attr('href');}
$(panel).show();},_destroy:function(){},_setOption:function(key,value){this._super('_setOption',key,value);}})})(jQuery);$(function(){$('[data-role=fluentmenu]').fluentmenu();});(function($){$.widget("metro.hint",{version:"1.0.0",options:{position:'bottom',_hint:undefined},_create:function(){var that=this,element=this.element,hint=element.data('hint').split("|"),o=this.options;var _hint;if(element.data('hintPosition')!=undefined)o.position=element.data('hintPosition');var hint_title=hint.length>1?hint[0]:false;var hint_text=hint.length>1?hint[1]:hint[0];_hint=$("<div/>").addClass("hint").appendTo(element.parent());if(hint_title){$("<div/>").addClass("hint-title").html(hint_title).appendTo(_hint);}
$("<div/>").addClass("hint-text").html(hint_text).appendTo(_hint);_hint.addClass(o.position);if(o.position=='top'){_hint.css({top:element.position().top-_hint.outerHeight()-20,left:element.position().left});}else if(o.position=='bottom'){_hint.css({top:element.position().top+element.outerHeight(),left:element.position().left});}else if(o.position=='right'){_hint.css({top:element.position().top-10,left:element.position().left+element.outerWidth()+10});}else if(o.position=='left'){_hint.css({top:element.position().top-10,left:element.position().left-_hint.outerWidth()-10});}
element.on('mouseenter',function(e){_hint.fadeIn();e.preventDefault();});element.on('mouseleave',function(e){_hint.fadeOut();e.preventDefault();});o._hint=_hint;},_destroy:function(){},_setOption:function(key,value){this._super('_setOption',key,value);}})})(jQuery);$(function(){$('[data-hint]').hint();});(function($){$.widget("metro.inputControl",{version:"1.0.0",options:{},_create:function(){var that=this,control=this.element;if(control.hasClass('text')){this.initTextInput(control,that);}else if(control.hasClass('password')){this.initPasswordInput();}else if(control.hasClass('checkbox')||control.hasClass('radio')||control.hasClass('switch')){this.initCheckboxInput(control,that);}else if(control.hasClass('file')){this.initFileInput(control,that);}},initCheckboxInput:function(el,that){},initFileInput:function(el,that){var button,input,wrapper;wrapper=$("<input type='text' id='__input_file_wrapper__' readonly style='z-index: 1; cursor: default;'>");button=el.children('.btn-file');input=el.children('input[type="file"]');input.css('z-index',0);wrapper.insertAfter(input);input.attr('tabindex','-1');button.attr('type','button');input.on('change',function(){var val=$(this).val();if(val!=''){wrapper.val(val);}});button.on('click',function(){input.trigger('click');});},initTextInput:function(el,that){var button,input;button=el.children('.btn-clear');if(button.length==0)return;button.attr('tabindex','-1');button.attr('type','button');button.on('click',function(){input=el.children('input');if(input.prop('readonly'))return;input.val('');input.focus();that._trigger("onClear",null,el);});},initPasswordInput:function(){var button=this.element.children('.btn-reveal'),input=this.element.children('input[type=password]'),wrapper,that=this;if(button.length==0)return;button.attr('tabindex','-1');button.attr('type','button');button.on('mousedown',function(e){input.attr('type','text');});button.on('mouseup, mouseleave',function(e){input.attr('type','password').focus();});},_destroy:function(){},_setOption:function(key,value){this._super('_setOption',key,value);}});})(jQuery);$(function(){$('[data-role=input-control], .input-control').inputControl();});(function($){$.widget("metro.inputTransform",{version:"1.0.0",options:{transformType:"text"},_create:function(){var that=this,element=this.element,inputType;var checkTransform=element.parent().hasClass("input-control");if(checkTransform)return;inputType=element.get(0).tagName.toLowerCase();if(inputType=="textarea"){this.options.transformType="textarea";}else if(inputType=="select"){this.options.transformType="select";}else{if(element.data('transformType')!=undefined){this.options.transformType=element.data('transformType');}else{this.options.transformType=element.attr("type");}}
var control=undefined;switch(this.options.transformType){case"password":control=this._createInputPassword();break;case"file":control=this._createInputFile();break;case"checkbox":control=this._createInputCheckbox();break;case"radio":control=this._createInputRadio();break;case"switch":control=this._createInputSwitch();break;case"select":control=this._createInputSelect();break;case"textarea":control=this._createInputTextarea();break;case"search":control=this._createInputSearch();break;case"email":control=this._createInputEmail();break;case"tel":control=this._createInputTel();break;default:control=this._createInputText();}
control.inputControl();},_createInputTextarea:function(){var element=this.element;var wrapper=$("<div/>").addClass("input-control").addClass("textarea");var clone=element.clone(true);var parent=element.parent();wrapper.appendTo(parent);clone.appendTo(wrapper);element.remove();return wrapper;},_createInputSelect:function(){var element=this.element;var wrapper=$("<div/>").addClass("input-control").addClass("select");var clone=element.clone(true);var parent=element.parent();wrapper.appendTo(parent);clone.appendTo(wrapper);element.remove();return wrapper;},_createInputSwitch:function(){var element=this.element;var wrapper=$("<div/>").addClass("input-control").addClass("switch");var label=$("<label/>");var button=$("<span/>").addClass("check");var clone=element.clone(true);var parent=element.parent();var caption=$("<span/>").addClass("caption").html(element.data('caption')!=undefined?element.data('caption'):"");wrapper.appendTo(parent);label.appendTo(wrapper);clone.appendTo(label);button.appendTo(label);caption.appendTo(label);element.remove();return wrapper;},_createInputCheckbox:function(){var element=this.element;var wrapper=$("<div/>").addClass("input-control").addClass("checkbox");var label=$("<label/>");var button=$("<span/>").addClass("check");var clone=element.clone(true);var parent=element.parent();var caption=$("<span/>").addClass("caption").html(element.data('caption')!=undefined?element.data('caption'):"");wrapper.appendTo(parent);label.appendTo(wrapper);clone.appendTo(label);button.appendTo(label);caption.appendTo(label);element.remove();return wrapper;},_createInputRadio:function(){var element=this.element;var wrapper=$("<div/>").addClass("input-control").addClass("radio");var label=$("<label/>");var button=$("<span/>").addClass("check");var clone=element.clone(true);var parent=element.parent();var caption=$("<span/>").addClass("caption").html(element.data('caption')!=undefined?element.data('caption'):"");wrapper.appendTo(parent);label.appendTo(wrapper);clone.appendTo(label);button.appendTo(label);caption.appendTo(label);element.remove();return wrapper;},_createInputSearch:function(){var element=this.element;var wrapper=$("<div/>").addClass("input-control").addClass("text");var button=$("<button/>").addClass("btn-search");var clone=element.clone(true);var parent=element.parent();wrapper.appendTo(parent);clone.appendTo(wrapper);button.appendTo(wrapper);element.remove();return wrapper;},_createInputTel:function(){var element=this.element;var wrapper=$("<div/>").addClass("input-control").addClass("tel");var button=$("<button/>").addClass("btn-clear");var clone=element.clone(true);var parent=element.parent();wrapper.appendTo(parent);clone.appendTo(wrapper);button.appendTo(wrapper);element.remove();return wrapper;},_createInputEmail:function(){var element=this.element;var wrapper=$("<div/>").addClass("input-control").addClass("email");var button=$("<button/>").addClass("btn-clear");var clone=element.clone(true);var parent=element.parent();wrapper.appendTo(parent);clone.appendTo(wrapper);button.appendTo(wrapper);element.remove();return wrapper;},_createInputText:function(){var element=this.element;var wrapper=$("<div/>").addClass("input-control").addClass("text");var button=$("<button/>").addClass("btn-clear");var clone=element.clone(true);var parent=element.parent();wrapper.appendTo(parent);clone.appendTo(wrapper);button.appendTo(wrapper);element.remove();return wrapper;},_createInputPassword:function(){var element=this.element;var wrapper=$("<div/>").addClass("input-control").addClass("password");var button=$("<button/>").addClass("btn-reveal");var clone=element.clone(true);var parent=element.parent();wrapper.appendTo(parent);clone.appendTo(wrapper);button.appendTo(wrapper);element.remove();return wrapper;},_createInputFile:function(){var element=this.element;var wrapper=$("<div/>").addClass("input-control").addClass("file");var button=$("<button/>").addClass("btn-file");var clone=element.clone(true);var parent=element.parent();wrapper.appendTo(parent);clone.appendTo(wrapper);button.appendTo(wrapper);element.remove();return wrapper;},_destroy:function(){},_setOption:function(key,value){this._super('_setOption',key,value);}})})(jQuery);$(function(){$('[data-transform=input-control]').inputTransform();});(function($){$.widget("metro.listview",{version:"1.0.0",options:{onGroupExpand:function(g){},onGroupCollapse:function(g){},onListClick:function(l){}},_create:function(){var that=this,element=this.element;element.children('.collapsed').children('.group-content').hide();element.find('.group-title').on('click',function(e){var $this=$(this),group=$this.parent('.list-group'),group_content=group.children('.group-content');group.toggleClass('collapsed');if(group.hasClass('collapsed')){group_content.slideUp();that.options.onGroupCollapse(group);}else{group_content.slideDown();that.options.onGroupExpand(group);}
e.preventDefault();});element.find('.list').on('click',function(e){element.find('.list').removeClass('active');$(this).toggleClass('active');that.options.onListClick($(this));e.preventDefault();});},_destroy:function(){},_setOption:function(key,value){this._super('_setOption',key,value);}})})(jQuery);$(function(){$('[data-role=listview]').listview();});(function($){$.widget("metro.livetile",{version:"1.0.0",options:{effect:'slideLeft',period:4000,duration:700,easing:'doubleSqrt'},_frames:{},_currentIndex:0,_interval:0,_outPosition:0,_size:{},_create:function(){var that=this,element=this.element;if(element.data('effect')!=undefined){this.options.effect=element.data('effect');}
if(element.data('direction')!=undefined){this.options.direction=element.data('direction');}
if(element.data('period')!=undefined){this.options.period=element.data('period');}
if(element.data('duration')!=undefined){this.options.duration=element.data('duration');}
if(element.data('easing')!=undefined){this.options.easing=element.data('easing');}
this._frames=element.children(".tile-content");if(this._frames.length<=1)return;$.easing.doubleSqrt=function(t){return Math.sqrt(Math.sqrt(t));};this._size={'width':element.width(),'height':element.height()};this._start();},_start:function(){var that=this;this._interval=setInterval(function(){that._animate();},this.options.period);},_animate:function(){var currentFrame=this._frames[this._currentIndex],nextFrame;this._currentIndex+=1;if(this._currentIndex>=this._frames.length)this._currentIndex=0;nextFrame=this._frames[this._currentIndex];switch(this.options.effect){case'slideLeft':this._effectSlideLeft(currentFrame,nextFrame);break;case'slideRight':this._effectSlideRight(currentFrame,nextFrame);break;case'slideDown':this._effectSlideDown(currentFrame,nextFrame);break;case'slideUpDown':this._effectSlideUpDown(currentFrame,nextFrame);break;case'slideLeftRight':this._effectSlideLeftRight(currentFrame,nextFrame);break;default:this._effectSlideUp(currentFrame,nextFrame);}},_effectSlideLeftRight:function(currentFrame,nextFrame){if(this._currentIndex%2==0)
this._effectSlideLeft(currentFrame,nextFrame);else
this._effectSlideRight(currentFrame,nextFrame);},_effectSlideUpDown:function(currentFrame,nextFrame){if(this._currentIndex%2==0)
this._effectSlideUp(currentFrame,nextFrame);else
this._effectSlideDown(currentFrame,nextFrame);},_effectSlideUp:function(currentFrame,nextFrame){var _out=this._size.height;var options={'duration':this.options.duration,'easing':this.options.easing};$(currentFrame).animate({top:-_out},options);$(nextFrame).css({top:_out}).show().animate({top:0},options);},_effectSlideDown:function(currentFrame,nextFrame){var _out=this._size.height;var options={'duration':this.options.duration,'easing':this.options.easing};$(currentFrame).animate({top:_out},options);$(nextFrame).css({top:-_out}).show().animate({top:0},options);},_effectSlideLeft:function(currentFrame,nextFrame){var _out=this._size.width;var options={'duration':this.options.duration,'easing':this.options.easing};$(currentFrame).animate({left:_out*-1},options);$(nextFrame).css({left:_out}).show().animate({left:0},options);},_effectSlideRight:function(currentFrame,nextFrame){var _out=this._size.width;var options={'duration':this.options.duration,'easing':this.options.easing};$(currentFrame).animate({left:_out},options);$(nextFrame).css({left:-_out}).show().animate({left:0},options);},_destroy:function(){},_setOption:function(key,value){this._super('_setOption',key,value);}})})(jQuery);$(function(){$('[data-role=live-tile]').livetile();});(function($){var _notifies=[];$.Notify=function(params){params=$.extend({icon:'',caption:'',content:'',shadow:true,width:'auto',height:'auto',style:false,position:'top-right',timeout:3000},params);if(params.content==''||params.content==undefined)return;var _wrapper,_notify;_wrapper=$("<div/>").addClass("metro notify-wrapper");_notify=$("<div/>").addClass("notify");if(params.shadow)_wrapper.addClass("shadow");if(params.style&&params.style.background!=undefined)_wrapper.css("background-color",params.style.background);if(params.style&&params.style.color!=undefined)_wrapper.css("color",params.style.color);if(params.caption!=''&&params.caption!=undefined){$("<div/>").addClass("caption").html(params.caption).appendTo(_notify);}
if(params.content!=''&&params.content!=undefined){$("<div/>").addClass("content").html(params.content).appendTo(_notify);}
_notify.appendTo(_wrapper);if(params.width!='auto')_wrapper.css('min-width',params.width);if(params.height!='auto')_wrapper.css('min-height',params.width);_wrapper.hide().appendTo('body').fadeIn('fast');_notifies.push(_notify);if(params.position=='default'||params.position=='bottom-right'){var bottom_position=5;$.each(_notifies,function(i,n){if(i==_notifies.length-1)return;bottom_position+=n.parent('.notify-wrapper').outerHeight()+5;});_wrapper.css({bottom:bottom_position,right:5});}else if(params.position=='top-right'){var top_position=5;$.each(_notifies,function(i,n){if(i==_notifies.length-1)return;top_position+=n.parent('.notify-wrapper').outerHeight()+5;});_wrapper.css({top:top_position,right:5});}else if(params.position=='bottom-left'){var bottom_position=5;$.each(_notifies,function(i,n){if(i==_notifies.length-1)return;bottom_position+=n.parent('.notify-wrapper').outerHeight()+5;});_wrapper.css({bottom:bottom_position,left:5});}else{var top_position=5;$.each(_notifies,function(i,n){if(i==_notifies.length-1)return;top_position+=n.parent('.notify-wrapper').outerHeight()+5;});_wrapper.css({top:top_position,left:5});}
setTimeout(function(){$.Notify.close(_notify);},params.timeout);};$.Notify.show=function(message,title){$.Notify({content:message,caption:title});};$.Notify.close=function(_notify){if(_notify==undefined){return false;}
var _wrapper=_notify.parent(".notify-wrapper");_wrapper.fadeOut(function(){$(this).remove();_notifies.splice(_notifies.indexOf(_notify),1);});return true;};})(jQuery);(function($){$.widget("metro.widget",{version:"1.0.0",options:{},_create:function(){},_destroy:function(){},_setOption:function(key,value){this._super('_setOption',key,value);}})})(jQuery);(function($){$.widget("metro.progressbar",{version:"1.0.0",options:{value:0,color:"bg-cyan",animate:false,onchange:function(val){}},_create:function(){var that=this,element=this.element;if(element.data('value')!=undefined){this.value(element.data('value')+'%');}
if(element.data('color')!=undefined){this.options.color=element.data('color');}
if(element.data('animate')!=undefined){this.options.animate=element.data('animate');}
this._showBar();},_showBar:function(){var element=this.element;element.html('');var bar=$("<div />");bar.addClass("bar");if(this.options.color.indexOf("bg-")+1)
bar.addClass(this.options.color);else{bar.css('background',this.options.color);}
bar.appendTo(element);if(this.options.animate){bar.animate({width:this.value()+'%'});}else{bar.css('width',this.value()+'%');}
this.options.onchange(this.value());},value:function(val){if(val!=undefined){this.options.value=parseInt(val);this._showBar();}else{return parseInt(this.options.value);}},color:function(color){this.options.color=color;if(this.options.color.indexOf("bg-")+1)
this.element.find(".bar").addClass(this.options.color);else{this.element.find(".bar").css('background',this.options.color);}
this._showBar();},_destroy:function(){},_setOption:function(key,value){this._super('_setOption',key,value);}})})(jQuery);$(function(){$('[data-role=progress-bar]').progressbar();});(function($){$.widget("metro.rating",{version:"1.0.0",options:{score:0,half:false,stars:5,static:true,hints:['bad','poor','regular','good','gorgeous'],showHint:false,showScore:false,scoreHint:"Current score: ",click:function(value,rating){}},_create:function(){var that=this,element=this.element;if(element.data('score')!=undefined){this.options.score=element.data('score');}
if(element.data('half')!=undefined){this.options.half=element.data('half');}
if(element.data('stars')!=undefined){this.options.stars=element.data('stars');}
if(element.data('showHint')!=undefined){this.options.showHint=element.data('showHint');}
if(element.data('static')!=undefined){this.options.static=element.data('static');}
if(element.data('showScore')!=undefined){this.options.showScore=element.data('showScore');}
if(element.data('scoreHint')!=undefined){this.options.scoreHint=element.data('scoreHint');}
this._showRating();},rate:function(value){this.options.score=value;this._showRating();},_showRating:function(){var that=this,element=this.element,options=this.options,ul,li;element.addClass("rating");element.html('');ul=$("<ul/>");if(!options.static){element.addClass("active");}
for(var i=0;i<options.stars;i++){li=$("<li/>");li.data('value',i+1);if(options.showHint)li.attr('title',options.hints[i]);if(i<=options.score-1){li.addClass("rated");}
li.on("click",function(){options.click($(this).data('value'),that);});li.appendTo(ul);}
ul.appendTo(element);if(options.showScore){$("<span/>").addClass('score-hint').html(options.scoreHint+options.score).appendTo(element);element.css('height','auto');}else{element.find('ul').css('margin-bottom',0);}},_destroy:function(){},_setOption:function(key,value){this._super('_setOption',key,value);}})})(jQuery);$(function(){$('[data-role=rating]').rating();});(function($){$.widget("metro.slider",{version:"1.0.0",options:{position:0,accuracy:0,color:'default',completeColor:'default',markerColor:'default',colors:[],showHint:false,change:function(value,slider){},changed:function(value,slider){},_slider:{vertical:false,offset:0,length:0,marker:0,ppp:0,start:0,stop:0}},_create:function(){var that=this,element=this.element,o=this.options,s=this.options._slider;if(element.data('accuracy')!=undefined){o.accuracy=element.data('accuracy')>0?element.data('accuracy'):0;}
if(element.data('position')!=undefined){o.position=this._correctValue(element.data('position')>0?(element.data('position')>100?100:element.data('position')):0);}
if(element.data('color')!=undefined){o.color=element.data('color');}
if(element.data('completeColor')!=undefined){o.completeColor=element.data('completeColor');}
if(element.data('markerColor')!=undefined){o.markerColor=element.data('markerColor');}
if(element.data('colors')!=undefined){o.colors=element.data('colors').split(",");}
if(element.data('showHint')!=undefined){o.showHint=element.data('showHint');}
s.vertical=element.hasClass("vertical");this._createSlider();this._initPoints();this._placeMarker(o.position);addTouchEvents(element[0]);element.children('.marker').on('mousedown',function(e){e.preventDefault();that._startMoveMarker(e);});element.on('mousedown',function(e){e.preventDefault();that._startMoveMarker(e);});},_startMoveMarker:function(e){var element=this.element,o=this.options,that=this,hint=element.children('.hint');$(element).on('mousemove',function(event){that._movingMarker(event);if(!element.hasClass('permanent-hint')){hint.css('display','block');}});$(element).on('mouseup',function(){$(element).off('mousemove');element.off('mouseup');element.data('value',that.options.position);element.trigger('changed',that.options.position);o.changed(that.options.position,element);if(!element.hasClass('permanent-hint')){hint.css('display','none');}});this._initPoints();this._movingMarker(e)},_movingMarker:function(event){var cursorPos,percents,valuePix,vertical=this.options._slider.vertical,sliderOffset=this.options._slider.offset,sliderStart=this.options._slider.start,sliderEnd=this.options._slider.stop,sliderLength=this.options._slider.length,markerSize=this.options._slider.marker;if(vertical){cursorPos=event.pageY-sliderOffset;}else{cursorPos=event.pageX-sliderOffset;}
if(cursorPos<sliderStart){cursorPos=sliderStart;}else if(cursorPos>sliderEnd){cursorPos=sliderEnd;}
if(vertical){valuePix=sliderLength-cursorPos-markerSize/2;}else{valuePix=cursorPos-markerSize/2;}
percents=this._pixToPerc(valuePix);this._placeMarker(percents);this.options.position=percents;this.options.change(Math.round(percents),this.element);},_placeMarker:function(value){var size,size2,o=this.options,colorParts=0,colorIndex=0,colorDelta=0,marker=this.element.children('.marker'),complete=this.element.children('.complete'),hint=this.element.children('.hint');colorParts=o.colors.length;colorDelta=o._slider.length/colorParts;if(this.options._slider.vertical){size=this._percToPix(value)+this.options._slider.marker;size2=this.options._slider.length-size;marker.css('top',size2);complete.css('height',size);if(colorParts){colorIndex=Math.round(size/colorDelta)-1;complete.css('background-color',o.colors[colorIndex<0?0:colorIndex]);}
if(o.showHint){hint.html(Math.round(value)).css('top',size2-hint.height()/2);}}else{size=this._percToPix(value);marker.css('left',size);complete.css('width',size);if(colorParts){colorIndex=Math.round(size/colorDelta)-1;complete.css('background-color',o.colors[colorIndex<0?0:colorIndex]);}
if(o.showHint){hint.html(Math.round(value)).css('left',size-hint.width()/2);}}},_pixToPerc:function(valuePix){var valuePerc;valuePerc=valuePix*this.options._slider.ppp;return this._correctValue(valuePerc);},_percToPix:function(value){if(this.options._slider.ppp===0){return 0;}
return value/this.options._slider.ppp;},_correctValue:function(value){var accuracy=this.options.accuracy;if(accuracy===0){return value;}
if(value===100){return 100;}
value=Math.floor(value/accuracy)*accuracy+Math.round(value%accuracy/accuracy)*accuracy;if(value>100){return 100;}
return value;},_initPoints:function(){var s=this.options._slider,element=this.element;if(s.vertical){s.offset=element.offset().top;s.length=element.height();s.marker=element.children('.marker').height();}else{s.offset=element.offset().left;s.length=element.width();s.marker=element.children('.marker').width();}
s.ppp=100/(s.length-s.marker);s.start=s.marker/2;s.stop=s.length-s.marker/2;},_createSlider:function(){var element=this.element,options=this.options,complete,marker,hint;element.html('');complete=$("<div/>").addClass("complete").appendTo(element);marker=$("<a/>").addClass("marker").appendTo(element);if(options.showHint){hint=$("<span/>").addClass("hint").appendTo(element);}
if(options.color!='default'){element.css('background-color',options.color);}
if(options.completeColor!='default'){complete.css('background-color',options.completeColor);}
if(options.markerColor!='default'){marker.css('background-color',options.markerColor);}},value:function(value){if(typeof value!=='undefined'){this._placeMarker(parseInt(value));this.options.position=parseInt(value);this.options.change(Math.round(parseInt(value)),this.element);return this;}else{return Math.round(this.options.position);}},_destroy:function(){},_setOption:function(key,value){this._super('_setOption',key,value);}})})(jQuery);$(function(){$('[data-role=slider]').slider();});(function($){$.widget("metro.stepper",{version:"1.0.0",options:{diameter:32},_create:function(){},_destroy:function(){},_setOption:function(key,value){this._super('_setOption',key,value);}})})(jQuery);$(function(){$('[data-role=stepper]').stepper();});(function($){$.widget("metro.tabcontrol",{version:"1.0.0",options:{effect:'none',activateStoredTab:false,tabclick:function(tab){},tabchange:function(tab){}},_create:function(){var that=this,element=this.element,tabs=$(element.children(".tabs")).children("li"),frames=$(element.children(".frames")).children(".frame"),element_id=element.attr("id");if(element.data('effect')!=undefined){this.options.effect=element.data('effect');}
this.init(tabs,frames);tabs.each(function(){var tab=$(this).children("a");tab.on('click',function(e){e.preventDefault();that.options.tabclick(this);if($(this).parent().hasClass('disabled')){return false;}
tabs.removeClass("active");tab.parent("li").addClass("active");frames.hide();var current_frame=$(tab.attr("href"));switch(that.options.effect){case'slide':current_frame.slideDown();break;case'fade':current_frame.fadeIn();break;default:current_frame.show();}
that._trigger('change',null,current_frame);that.options.tabchange(this);if(element_id!=undefined)window.localStorage.setItem(element_id+"-current-tab",$(this).attr("href"));});});if(this.options.activateStoredTab)this._activateStoredTab(tabs);},init:function(tabs,frames){var that=this;tabs.each(function(){if($(this).hasClass("active")){var current_frame=$($($(this).children("a")).attr("href"));frames.hide();current_frame.show();that._trigger('change',null,current_frame);}});},_activateStoredTab:function(tabs){var current_stored_tab=window.localStorage.getItem(this.element.attr('id')+'-current-tab');if(current_stored_tab!=undefined){tabs.each(function(){var a=$(this).children("a");if(a.attr("href")==current_stored_tab){a.click();}});}},_destroy:function(){},_setOption:function(key,value){this._super('_setOption',key,value);}})})(jQuery);$(function(){$('[data-role=tab-control]').tabcontrol();});(function($){$.widget("metro.tablecontrol",{version:"1.0.0",options:{width:'100%',height:'auto',cls:'table',checkRow:false,colModel:[],data:[]},_create:function(){var element=this.element,table;element.css({width:this.options.width,height:this.options.height});table=this.createTable(element);this.addHeader(table,this.options.colModel);this.addTableData(table,this.options.data);table.addClass(this.options.cls);},addHeader:function(container,data){var thead=$("<thead/>").appendTo(container);var th,tr=$("<tr/>").appendTo(thead);$.each(data,function(index,column){th=$("<th/>").addClass(column.hcls).html(column.caption).appendTo(tr);});},createTable:function(container){return $("<table/>").appendTo(container);},addTableData:function(container,data){var that=this,tbody=$("<tbody/>").appendTo(container);$.each(data,function(i,row){that.addRowData(tbody,row);});},addRowData:function(container,row){var td,tr=$("<tr/>").appendTo(container);if(row.__row_class!=undefined){tr.addClass(row.__row_class);}
$.each(this.options.colModel,function(index,val){td=$("<td/>").css("width",val.width).addClass(val.cls).html(row[val.field]).appendTo(tr);});},_destroy:function(){},_setOption:function(key,value){this._super('_setOption',key,value);}})})(jQuery);$(function(){$('[data-role=table]').tablecontrol();});(function($){$.widget("metro.times",{version:"1.0.0",options:{style:{background:"bg-dark",foreground:"fg-white",divider:"fg-dark"},blink:true,alarm:{h:0,m:0,s:0},ontick:function(h,m,s){},onalarm:function(){}},wrappers:{},_interval:0,_create:function(){var that=this,element=this.element;$.each(['Hours','Minutes','Seconds'],function(){$('<span class="count'+this+'">').html('<span class="digit-wrapper">\
                        <span class="digit">0</span>\
                    </span>\
                    <span class="digit-wrapper">\
                        <span class="digit">0</span>\
                    </span>').appendTo(element);if(this!="Seconds"){element.append('<span class="divider"></span>');}});this.wrappers=this.element.find('.digit-wrapper');if(element.data('blink')!=undefined){this.options.blink=element.data('blick');}
if(element.data('styleBackground')!=undefined){this.options.style.background=element.data('styleBackground');}
if(element.data('styleForeground')!=undefined){this.options.style.foreground=element.data('styleForeground');}
if(element.data('styleDivider')!=undefined){this.options.style.divider=element.data('styleDivider');}
if(this.options.style.background!="default"){this.element.find(".digit").addClass(this.options.style.background);}
if(this.options.style.foreground!="default"){this.element.find(".digit").addClass(this.options.style.foreground);}
if(this.options.style.divider!="default"){this.element.find(".divider").addClass(this.options.style.divider);}
if(element.data('alarm')!=undefined){var _alarm=element.data('alarm').split(":");this.options.alarm.h=_alarm[0]!=undefined?_alarm[0]:0;this.options.alarm.m=_alarm[1]!=undefined?_alarm[1]:0;this.options.alarm.s=_alarm[2]!=undefined?_alarm[2]:0;}
if(element.data('onalarm')!=undefined){}
setTimeout(function(){that.tick()},1000);},_destroy:function(){},_setOption:function(key,value){this._super('_setOption',key,value);},tick:function(){var that=this;this._interval=setInterval(function(){var _date=new Date();var h,m,s;h=_date.getHours();that.updateDuo(0,1,h);m=_date.getMinutes();that.updateDuo(2,3,m);s=_date.getSeconds();that.updateDuo(4,5,s);that.options.ontick(h,m,s);that.blinkDivider();var alarm=that.options.alarm;if(alarm){if((alarm.h!=undefined&&alarm.h==h)&&(alarm.m!=undefined&&alarm.m==m)&&(alarm.s!=undefined&&alarm.s==s)){that.options.onalarm();that._trigger('alarm');}}},1000);},blinkDivider:function(){if(this.options.blink)
this.element.find(".divider").toggleClass("no-visible");},updateDuo:function(minor,major,value){this.switchDigit(this.wrappers.eq(minor),Math.floor(value/10)%10);this.switchDigit(this.wrappers.eq(major),value%10);},switchDigit:function(wrapper,number){var digit=wrapper.find('.digit');if(digit.is(':animated')){return false;}
if(wrapper.data('digit')==number){return false;}
wrapper.data('digit',number);var replacement=$('<span>',{'class':'digit',css:{top:'-2.1em',opacity:0},html:number});replacement.addClass(this.options.style.background);replacement.addClass(this.options.style.foreground);digit.before(replacement).removeClass('static').animate({top:'2.5em',opacity:0},'fast',function(){digit.remove();});replacement.delay(100).animate({top:0,opacity:1},'fast');return true;}});})(jQuery);$(function(){$('[data-role=times]').times();});var hasTouch='ontouchend'in window,eventTimer;var moveDirection='undefined',startX,startY,deltaX,deltaY,mouseDown=false
function addTouchEvents(element){if(hasTouch){element.addEventListener("touchstart",touch2Mouse,true);element.addEventListener("touchmove",touch2Mouse,true);element.addEventListener("touchend",touch2Mouse,true);}}
function touch2Mouse(e)
{var theTouch=e.changedTouches[0];var mouseEv;switch(e.type)
{case"touchstart":mouseEv="mousedown";break;case"touchend":mouseEv="mouseup";break;case"touchmove":mouseEv="mousemove";break;default:return;}
if(mouseEv=="mousedown"){eventTimer=(new Date()).getMilliseconds();startX=theTouch.clientX;startY=theTouch.clientY;mouseDown=true;}
if(mouseEv=="mouseup"){if((new Date()).getMilliseconds()-eventTimer<=500){mouseEv="click";}
mouseDown=false;}
if(mouseEv=="mousemove"){if(mouseDown){deltaX=theTouch.clientX-startX;deltaY=theTouch.clientY-startY;moveDirection=deltaX>deltaY?'horizontal':'vertical';}}
var mouseEvent=document.createEvent("MouseEvent");mouseEvent.initMouseEvent(mouseEv,true,true,window,1,theTouch.screenX,theTouch.screenY,theTouch.clientX,theTouch.clientY,false,false,false,false,0,null);theTouch.target.dispatchEvent(mouseEvent);e.preventDefault();}
(function($){$.widget("metro.treeview",{version:"1.0.0",options:{onNodeClick:function(node){}},_create:function(){var that=this,element=this.element;element.find('.node.collapsed').find('ul').hide();element.find('.node > a').on('click',function(e){var $this=$(this),node=$this.parent('li');node.toggleClass('collapsed');if(node.hasClass('collapsed')){node.children('ul').fadeOut('fast');}else{node.children('ul').fadeIn('fast');}
that.options.onNodeClick(node);e.preventDefault();});element.find('a').on('click',function(e){var $this=$(this),node=$this.parent('li');element.find('a').parent('li').removeClass('active');if(node.hasClass('node'))return;node.toggleClass('active');that.options.onNodeClick(node);e.preventDefault();});},_destroy:function(){},_setOption:function(key,value){this._super('_setOption',key,value);}})})(jQuery);$(function(){$('[data-role=treeview]').treeview();});
